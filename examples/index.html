<html>

  <body>
    <div>These are examples of performing translation using the Browser's detected language</div>
    <ul>
      <li id="string-example"></li>
      <li id="function-example"></li>
    </ul>

    <div>These are examples of performing translation by explicitly specifying the language of French</div>
    <ul>
      <li id="string-example-french"></li>
      <li id="function-example-french"></li>
    </ul>

    <div>These are examples of handling invalid inputs</div>
    <ul>
      <li id="missing-string-example"></li>
      <li id="missing-language-example"></li>
    </ul>

    <div>This is an example of getSupportedLanguages</div>
    <ul id="supported-languages">

    </ul>

    <div>Check the console for error handling examples</div>
  </body>

  <script type="module">

    import SimpleTranslation from '../simple-translation.js'

    import english from '../languages/english.js'
    import french from '../languages/french.js'

    let translate = new SimpleTranslation(english, french)

    //Will produce error about languages already being registered because there were supplied in the new SimpleTranslation() call
    translate.registerLanguage(english)
    translate.registerLanguage(french)

    let exampleStaticString = translate.message('exampleString')
    let exampleDynamicString = translate.message('exampleFunction')('test')

    let exampleStaticWithLanguageOverridge = translate.message('exampleString', 'fr')
    let exampleDynamicWithLanguageOverridge = translate.message('exampleFunction', 'fr')('test')

    let exampleInvalidString = translate.message('exampleOfStringThatDoesntExist')
    let exampleInvalidLanguage = translate.message('exampleString', 'sp')

    document.getElementById('string-example').innerHTML = exampleStaticString
    document.getElementById('function-example').innerHTML = exampleDynamicString

    document.getElementById('string-example-french').innerHTML = exampleStaticWithLanguageOverridge
    document.getElementById('function-example-french').innerHTML = exampleDynamicWithLanguageOverridge

    document.getElementById('missing-string-example').innerHTML = exampleInvalidString
    document.getElementById('missing-language-example').innerHTML = exampleInvalidLanguage

    let supportedLanguages = translate.getSupportedLanguages().map((language) => {
      return `<li>${language}</li>`
    }).join('')

    document.getElementById('supported-languages').innerHTML = supportedLanguages

</script>

</html>
